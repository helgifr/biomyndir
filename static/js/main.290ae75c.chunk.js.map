{"version":3,"sources":["components/header/index.js","components/header/Header.js","routes/not-found/index.js","routes/not-found/NotFound.js","storedMovies.js","api.js","actions/movies.js","components/button/Button.js","components/button/index.js","utils.js","components/movie/index.js","components/movie/Movie.js","components/loading/index.js","components/loading/Loading.js","routes/home/Home.js","routes/home/index.js","actions/upcomingMovies.js","components/showtimes/index.js","components/showtimes/Showtimes.js","components/YTPlaylist/index.js","components/YTPlaylist/YTPlaylist.js","routes/moviePage/MoviePage.js","routes/moviePage/index.js","routes/upcomingMovies/UpcomingMovies.js","routes/upcomingMovies/index.js","App.js","reducers/movies.js","reducers/upcomingMovies.js","reducers/index.js","ScrollToTop.js","serviceWorker.js","index.js"],"names":["Header","react_default","a","createElement","className","Link","to","style","textDecoration","src","concat","process","alt","Component","NotFound","Helmet_default","title","getStored","_callee","name","storedMovies","timestamp","movies","regenerator_default","wrap","_context","prev","next","JSON","parse","window","localStorage","getItem","Date","abrupt","stop","this","setStored","_callee2","data","_context2","setItem","stringify","baseurl","options","headers","authorization","method","url","response","result","fetch","sent","json","status","api","getMovies","getUpcomingMovies","MOVIES_REQUEST","MOVIES_ERROR","MOVIES_SUCCESS","moviesError","message","type","isFetching","_ref","Object","asyncToGenerator","mark","dispatch","t0","_x","apply","arguments","Button","_this$props","props","children","onClick","pushed","classes","defaultProps","months","Movie","upcoming","movie","ratings","date","month","getMonth","dateString","getDate","getFullYear","imdb","id","rating","poster","Loading","Home","state","allMovies","done","cinemas","sortMovies","setState","_this$state","console","info","error","index","forEach","cinema","newMovieList","activeCinemas","filter","showMovie","showtimes","some","showtime","push","_this2","_this$props2","_this$state2","loading","map","components_button","key","cinemaButton","clearCinemas","components_movie","withRouter","connect","UPCOMING_MOVIES_REQUEST","UPCOMING_MOVIES_ERROR","UPCOMING_MOVIES_SUCCESS","isFetchingUpcoming","upcomingMovies","Showtimes","theater","_theater$cinema","schedule","href","purchase_url","time","YTPlaylist","trailers","results","trailerPlaylist","Fragment","length","width","height","align","frameBorder","allow","allowFullScreen","MoviePage","doneMovies","doneUpcoming","match","params","find","parseInt","isUpcoming","ratingSection","dateSection","_movie","ids","plot","directors_abridged","directors","i","listDirectors","components_YTPlaylist","components_showtimes","UpcomingMovies","sortedMovies","newMovies","sort","movieA","movieB","App","defaultTitle","titleTemplate","header","Switch","location","Route","path","exact","component","build_default","buttonText","buttonStyle","cursor","initialState","combineReducers","undefined","action","objectSpread","ScrollToTop","prevProps","scrollTo","React","Boolean","hostname","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","react_redux_es","BrowserRouter","basename","src_ScrollToTop","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.290ae75c.chunk.js","sourcesContent":["import Header from './Header';\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Header.css';\r\n\r\nconst basename = process.env.PUBLIC_URL || '';\r\n\r\nexport default class Header extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"nav-bar\">\r\n        <Link className=\"home-button\" to=\"/\" style={{ textDecoration: 'none' }}>\r\n          <img src={`${basename}/Home.png`} alt=\"Home Icon\" />\r\n        </Link>\r\n        <Link to=\"/upcoming\" style={{ textDecoration: 'none' }}>\r\n          <p className=\"upcoming-button\">Væntanlegt</p>\r\n        </Link>\r\n      </nav>\r\n    );\r\n  }\r\n\r\n}","import NotFound from './NotFound';\r\nexport default NotFound;\r\n","import React, { Component } from 'react';\r\nimport Helmet from 'react-helmet';\r\n\r\nimport './NotFound.css';\r\n\r\nexport default class Home extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"not-found\">\r\n        <Helmet title=\"Síða fannst ekki\" />\r\n        <h1>Síða fannst ekki</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// Föll til að geyma og sækja myndir frá localstorage\r\nasync function getStored(name) {\r\n  const storedMovies = JSON.parse(window.localStorage.getItem(name));\r\n  \r\n  if (storedMovies) {\r\n    const { timestamp } = storedMovies;\r\n    if (new Date() - new Date(timestamp) < 1000 * 60 * 60 * 2) {\r\n      const { movies } = storedMovies;\r\n      return movies;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nasync function setStored(name, movies) {\r\n  const data = {\r\n    movies,\r\n    timestamp: new Date(),\r\n  }\r\n\r\n  window.localStorage.setItem(name, JSON.stringify(data));\r\n}\r\n\r\nexport {\r\n  getStored,\r\n  setStored,\r\n}","import { setStored } from './storedMovies';\r\n\r\nconst baseurl = process.env.REACT_APP_SERVICE_URL || \"https://bio-server.herokuapp.com\";\r\n\r\nconst options = {\r\n  headers: {\r\n    authorization: 'Bearer Kappa',\r\n  },\r\n  method: 'GET',\r\n};\r\n\r\nasync function getMovies() {\r\n  const url = baseurl;\r\n\r\n  const response = await fetch(url, options);\r\n\r\n  const result = await response.json();\r\n\r\n  if (response.status === 200) {\r\n    setStored('movies', result);\r\n  }\r\n\r\n  return { result, status: response.status };\r\n}\r\n\r\nasync function getUpcomingMovies() {\r\n  const url = `${baseurl}/upcoming`;\r\n\r\n  const response = await fetch(url, options);\r\n\r\n  const result = await response.json();\r\n\r\n  if (response.status === 200) {\r\n    setStored('upcomingMovies', result);\r\n  }\r\n\r\n  return { result, status: response.status };\r\n}\r\n\r\nexport default {\r\n  getMovies,\r\n  getUpcomingMovies,\r\n}","import api from '../api';\r\n\r\nexport const MOVIES_REQUEST = 'MOVIES_REQUEST';\r\nexport const MOVIES_ERROR = 'MOVIES_ERROR';\r\nexport const MOVIES_SUCCESS = 'MOVIES_SUCCESS';\r\n\r\nfunction requestMovies() {\r\n  return {\r\n    type: MOVIES_REQUEST,\r\n    isFetching: true,\r\n    movies: null,\r\n  }\r\n}\r\n\r\nfunction moviesError(message) {\r\n  return {\r\n    type: MOVIES_ERROR,\r\n    isFetching: false,\r\n    movies: null,\r\n    message,\r\n  }\r\n}\r\n\r\nfunction receiveMovies(movies) {\r\n  return {\r\n    type: MOVIES_SUCCESS,\r\n    isFetching: false,\r\n    movies,\r\n  }\r\n}\r\n\r\nexport const getMovies = () => {\r\n  return async (dispatch) => {\r\n    dispatch(requestMovies());\r\n\r\n    let response;\r\n    try {\r\n      response = await api.getMovies();\r\n    } catch (e) {\r\n      return dispatch(moviesError(e));\r\n    }\r\n\r\n    if (response.status === 401) {\r\n      dispatch(moviesError(response.result));\r\n    } else {\r\n      const { result } = response;\r\n      dispatch(receiveMovies(result));\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Button.css';\r\n\r\n/* todo aðrar útgáfur af takka fyrir disabled, minni takka fyrir logout og \"warning\" takka */\r\n\r\nexport default class Button extends Component {\r\n\r\n  static propTypes = {\r\n    onClick: PropTypes.func,\r\n    children: PropTypes.node,\r\n  }\r\n\r\n  static defaultProps = {\r\n    onClick: () => {},\r\n  }\r\n\r\n  render() {\r\n    const { children, onClick, type, pushed } = this.props;\r\n\r\n    let classes = `button ${type}`\r\n    if (pushed) classes += ' pushed';\r\n\r\n    return (\r\n      <button onClick={onClick} className={classes}>{children}</button>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n","import Button from './Button';\r\nexport default Button;\r\n","export const months = [\r\n  'Janúar',\r\n  'Febrúar',\r\n  'Mars',\r\n  'Apríl',\r\n  'Maí',\r\n  'Júní',\r\n  'Júlí',\r\n  'Ágúst',\r\n  'September',\r\n  'Október',\r\n  'Nóvember',\r\n  'Desember',\r\n];\r\n\r\n// Notað til að bæta kommu milli leikstjóra ef þeir eru\r\n// fleiri en einn, 'og' síðan sett fyrir seinasta leikstjóran\r\nexport function listDirectors(result) {\r\n  let directors = result[0] ? `Leikstjóri: ${result[0].name}` : '';\r\n  if (result.length > 1) {\r\n    directors = 'Leikstjórar: ' + result[0].name;\r\n    for (let i = 1; i < result.length; i++) {\r\n      if (i === result.length - 1) {\r\n        directors += ` og ${result[i].name}`;\r\n      } else {\r\n        directors += `, ${result[i].name}`;\r\n      }\r\n    }\r\n  }\r\n  return directors;\r\n}","import Movie from './Movie';\r\nexport default Movie;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { months } from '../../utils';\r\n\r\nimport './Movie.css';\r\n\r\nconst basename = process.env.PUBLIC_URL || '';\r\n\r\nexport default class Movie extends Component {\r\n\r\n  rating() {\r\n    const { upcoming, movie } = this.props;\r\n    const { ratings } = movie;\r\n    if (!upcoming) {\r\n      return (\r\n        <div className=\"rating\">\r\n          <p>{ratings.imdb}</p>\r\n          <img className=\"logo\" src={`${basename}/imdb.png`} alt=\"imdb logo\" />\r\n        </div>\r\n      );\r\n    } else {\r\n      const { date } = movie;\r\n      const month = months[date.getMonth()];\r\n      const dateString = `${date.getDate()}. ${month} ${date.getFullYear()}`;\r\n      return (\r\n        <p className=\"release-date\">{dateString}</p>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { movie } = this.props;\r\n    const { title, id } = movie;\r\n    const rating = this.rating();\r\n    // Passa uppá ef það vantar mynd\r\n    let { poster } = movie;\r\n    poster = poster === 'https://kvikmyndir.is/images/poster/' ? `${basename}/noPoster.png` : poster;\r\n\r\n    return (\r\n      <figure className=\"movieSpace\">\r\n        <Link to={ \"/movie/\" + id} style={{ textDecoration: 'none' }}>\r\n          <img src={poster} alt={\"Mynd fyrir bíómyndina \" + title}/>\r\n          <figcaption>\r\n            <p className=\"title\">{title}</p>\r\n            {rating}\r\n          </figcaption>\r\n        </Link>\r\n      </figure>\r\n    );\r\n  }\r\n\r\n}","import Loading from './Loading';\r\nexport default Loading;\r\n","import React, { Component } from 'react';\r\n\r\nimport './Loading.css';\r\n\r\nexport default class Loading extends Component {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"bullseye\">\r\n        <div className=\"container\">\r\n          <div className=\"dash uno\"></div>\r\n          <div className=\"dash dos\"></div>\r\n          <div className=\"dash tres\"></div>\r\n          <div className=\"dash cuatro\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n// Myndir sóttar gegnum bakenda með redux\r\nimport { getMovies } from '../../actions/movies';\r\n\r\nimport Button from '../../components/button';\r\nimport Movie from '../../components/movie';\r\nimport Loading from '../../components/loading';\r\n\r\nimport { getStored } from '../../storedMovies';\r\n\r\nimport './Home.css';\r\n\r\nclass Home extends Component {\r\n\r\n  state = {\r\n    allMovies: null,\r\n    movies: null,\r\n    done: false,\r\n    cinemas: [\r\n      { name: \"Álfabakki\", pushed: false },\r\n      { name: \"Borgarbíó\", pushed: false },\r\n      { name: \"Bíó Paradís\", pushed: false },\r\n      { name: \"Sambíóin Egilshöll\", pushed: false },\r\n      { name: \"Háskólabíó\", pushed: false },\r\n      { name: \"Kringlubíó\", pushed: false },\r\n      { name: \"Laugarásbíó\", pushed: false },\r\n      { name: \"Sambíóin, Akureyri\", pushed: false },\r\n      { name: \"Sambíóin, Keflavík\", pushed: false },\r\n      { name: \"Smárabíó\", pushed: false },\r\n    ],\r\n    sortMovies: false,\r\n  }\r\n\r\n\r\n  async componentDidMount() {\r\n    const { dispatch } = this.props;\r\n    const movies = await getStored('movies');\r\n    if (movies) {\r\n      this.setState({ allMovies: movies, movies, done: true });\r\n    }\r\n    else {\r\n      await dispatch(getMovies());\r\n    }\r\n    const cinemas = JSON.parse(window.localStorage.getItem('cinemas'));\r\n    if (cinemas) {\r\n      this.setState({ cinemas, sortMovies: true });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { isFetching, movies, message } = this.props;\r\n    const { done, sortMovies, cinemas } = this.state;\r\n\r\n    if (!isFetching && !done) {\r\n      if (movies) { // Myndir sóttar gegnum bakenda\r\n        this.setState({ allMovies: movies, movies, done: true });\r\n      } else if (message) {\r\n        console.error(message);\r\n      }\r\n    } else if (isFetching) {\r\n      console.info('Fetching movies');\r\n    } else if (sortMovies) {\r\n      this.sortMovies(cinemas);\r\n    }\r\n  }\r\n\r\n  cinemaButton(index) {\r\n    const { cinemas } = this.state;\r\n    cinemas[index].pushed = !cinemas[index].pushed;\r\n    this.sortMovies(cinemas);\r\n  }\r\n\r\n  clearCinemas() {\r\n    const { cinemas } = this.state;\r\n    cinemas.forEach((cinema) => cinema.pushed = true);\r\n    this.sortMovies(cinemas);\r\n  }\r\n\r\n  sortMovies(cinemas) {\r\n    const { allMovies } = this.state;\r\n    const newMovieList = [];\r\n    // Nota bíóhúsin sem eru valin\r\n    const activeCinemas = cinemas.filter(cinema => !cinema.pushed);\r\n\r\n    allMovies.forEach(movie => {\r\n      let showMovie = false;\r\n      activeCinemas.forEach(cinema => {\r\n        const { showtimes } = movie;\r\n        const showing = showtimes.some(showtime => showtime.cinema.name === cinema.name);\r\n        if (showing) { // Mynd er sýnd í a.m.k. einu bíóhúsi\r\n          showMovie = true;\r\n          return;\r\n        }\r\n      });\r\n      if (showMovie) {\r\n        newMovieList.push(movie);\r\n      }\r\n    });\r\n    // Geyma völdu kvikmyndahús\r\n    window.localStorage.setItem('cinemas', JSON.stringify(cinemas));\r\n\r\n    this.setState({ movies: newMovieList, cinemas, sortMovies: false });\r\n  }\r\n\r\n  render() {\r\n    const { message, isFetching } = this.props;\r\n    const { cinemas, movies } = this.state;\r\n\r\n    if (isFetching) return (<Loading />);\r\n\r\n    if (message) return (<p>{message}</p>);\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"cinemas\">\r\n          <h3>Bíóhús</h3>\r\n          <div className=\"cinema-buttons\">\r\n            {cinemas.map((cinema, index) => {\r\n              return(\r\n                <Button\r\n                  key={index}\r\n                  pushed={cinema.pushed}\r\n                  onClick={() => this.cinemaButton(index)}\r\n                >\r\n                {cinema.name}\r\n                </Button>\r\n              );\r\n            })}\r\n          </div>\r\n          <Button type=\"cancel\" onClick={() => this.clearCinemas()}>Afvelja allt</Button>\r\n        </div>\r\n        <div className=\"movies\">\r\n          {movies &&\r\n            movies.map((movie) => {\r\n              return (\r\n                <Movie\r\n                  key={movie.id}\r\n                  movie={movie}\r\n                />\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movies.movies,\r\n    isFetching: state.movies.isFetching,\r\n    message: state.movies.message,\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(Home));","import Home from './Home';\r\nexport default Home;","import api from '../api';\r\n\r\nexport const UPCOMING_MOVIES_REQUEST = 'UPCOMING_MOVIES_REQUEST';\r\nexport const UPCOMING_MOVIES_ERROR = 'UPCOMING_MOVIES_ERROR';\r\nexport const UPCOMING_MOVIES_SUCCESS = 'UPCOMING_MOVIES_SUCCESS';\r\n\r\nfunction requestMovies() {\r\n  return {\r\n    type: UPCOMING_MOVIES_REQUEST,\r\n    isFetchingUpcoming: true,\r\n    upcomingMovies: null,\r\n  }\r\n}\r\n\r\nfunction moviesError(message) {\r\n  return {\r\n    type: UPCOMING_MOVIES_ERROR,\r\n    isFetchingUpcoming: false,\r\n    upcomingMovies: null,\r\n    message,\r\n  }\r\n}\r\n\r\nfunction receiveMovies(upcomingMovies) {\r\n  return {\r\n    type: UPCOMING_MOVIES_SUCCESS,\r\n    isFetchingUpcoming: false,\r\n    upcomingMovies,\r\n  }\r\n}\r\n\r\nexport const getUpcomingMovies = () => {\r\n  return async (dispatch) => {\r\n    dispatch(requestMovies());\r\n\r\n    let response;\r\n    try {\r\n      response = await api.getUpcomingMovies();\r\n    } catch (e) {\r\n      return dispatch(moviesError(e));\r\n    }\r\n\r\n    if (response.status === 401) {\r\n      dispatch(moviesError(response.result));\r\n    } else {\r\n      const { result } = response;\r\n      dispatch(receiveMovies(result));\r\n    }\r\n  }\r\n}","import Showtimes from './Showtimes';\r\nexport default Showtimes;\r\n","import React, { Component } from 'react';\r\n\r\nimport Button from '../button';\r\n\r\nimport './Showtimes.css';\r\n\r\nexport default class Showtimes extends Component {\r\n\r\n  render() {\r\n    const { showtimes } = this.props;\r\n    return (\r\n      <div className=\"showtimes\">\r\n        {showtimes &&\r\n          showtimes.map(theater => {\r\n            const { name, id } = theater.cinema;\r\n            const { schedule } = theater;\r\n            return (\r\n              <section key={id} className=\"theater-showtimes\">\r\n                <h1>{name}</h1>\r\n                <div className=\"schedules\">\r\n                  {schedule.map((schedule, index) => {\r\n                    return (\r\n                      <a key={`${id}${index}`} href={schedule.purchase_url}>\r\n                        <Button type=\"schedule\">\r\n                          <p>{schedule.time}</p>\r\n                        </Button>\r\n                      </a>\r\n                    )\r\n                  })\r\n                  }\r\n                </div>\r\n              </section>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import YTPlaylist from './YTPlaylist';\r\nexport default YTPlaylist;\r\n","import React, { Component } from 'react';\r\n\r\nimport './YTPlaylist.css';\r\n\r\nexport default class YTPlaylist extends Component {\r\n\r\n  render() {\r\n    const { trailers } = this.props;\r\n\r\n    if (!trailers) return null;\r\n\r\n    const { results } = trailers;\r\n    let trailerPlaylist = \"\";\r\n    results.forEach(result => trailerPlaylist += \",\" + result.key);\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {results.length > 0 &&\r\n          <div className=\"youtubevideowrap\">\r\n            <div className=\"video-container\">\r\n              <iframe\r\n                title=\"trailers\"\r\n                width=\"640\"\r\n                height=\"352\"\r\n                align=\"center\"\r\n                src={`https://www.youtube.com/embed/?playlist=${trailerPlaylist}`}\r\n                frameBorder=\"0\"\r\n                allow=\"autoplay; encrypted-media\"\r\n                allowFullScreen>\r\n              </iframe>\r\n            </div>\r\n          </div>\r\n        }\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Helmet from 'react-helmet';\r\n\r\nimport { getMovies } from '../../actions/movies';\r\nimport { getUpcomingMovies } from '../../actions/upcomingMovies';\r\nimport { getStored } from '../../storedMovies';\r\n\r\nimport Loading from '../../components/loading';\r\nimport Showtimes from '../../components/showtimes';\r\nimport YTPlaylist from '../../components/YTPlaylist';\r\n\r\nimport { months, listDirectors } from '../../utils';\r\n\r\nimport './MoviePage.css';\r\n\r\nconst basename = process.env.PUBLIC_URL || '';\r\n\r\nclass MoviePage extends Component {\r\n\r\n  state = {\r\n    movies: null,\r\n    upcomingMovies: null,\r\n    doneMovies: false,\r\n    doneUpcoming: false,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { dispatch } = this.props;\r\n    const movies = await getStored('movies');\r\n    const upcomingMovies = await getStored('upcomingMovies');\r\n    if (movies) {\r\n      this.setState({ movies, doneMovies: true });\r\n    } else {\r\n      dispatch(getMovies());\r\n    }\r\n    if (upcomingMovies) {\r\n      this.setState({ upcomingMovies, doneUpcoming: true });\r\n    } else {\r\n      dispatch(getUpcomingMovies());\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { isFetching, isFetchingUpcoming, movies, upcomingMovies, message } = this.props;\r\n    const { doneMovies, doneUpcoming } = this.state;\r\n\r\n    if (!isFetching || !isFetchingUpcoming) {\r\n      if (movies && !doneMovies) {\r\n        this.setState({ movies, doneMovies: true });\r\n      } else if (upcomingMovies && !doneUpcoming) {\r\n        this.setState({ upcomingMovies, doneUpcoming: true });\r\n      } else if (message) {\r\n        console.error(message);\r\n      }\r\n    } else {\r\n      console.info('Fetching movies');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { message, isFetching, isFetchingUpcoming } = this.props;\r\n    const { movies, upcomingMovies } = this.state;\r\n\r\n    if (message) return (<p>{message}</p>);\r\n\r\n    if (isFetching || isFetchingUpcoming || !movies || !upcomingMovies) return (<Loading />);\r\n\r\n    const { match } = this.props;\r\n    const { id } = match.params;\r\n\r\n    // Finna mynd og vita hvort hún sé væntanleg eða ekki\r\n    let movie = movies.find(movie => movie.id === parseInt(id));\r\n\r\n    let isUpcoming = false;\r\n    if (!movie) {\r\n      movie = upcomingMovies.find(movie => movie.id === parseInt(id));\r\n      isUpcoming = true;\r\n    }\r\n\r\n    if (!movie) return (<h2 className=\"movie-notfound\">Mynd fannst ekki</h2>);\r\n\r\n    const {\r\n      title,\r\n      poster,\r\n      ratings,\r\n      ids,\r\n      plot,\r\n      showtimes,\r\n      directors_abridged,\r\n      trailers,\r\n    } = movie;\r\n\r\n    let ratingSection, dateSection;\r\n    if (isUpcoming) { // Ef að mynd er væntanleg þá er birt útgáfudagur\r\n      const date = new Date(movie['release-dateIS']);\r\n      const dateString = `${date.getDate()}. ${months[date.getMonth()]} ${date.getFullYear()}`;\r\n      dateSection = (\r\n        <h2 className=\"movie-page_release-date\">{dateString}</h2>\r\n      );\r\n    } else { // Annars er birt imdb einkunnin\r\n      const { imdb } = ratings;\r\n      ratingSection = (\r\n        <div className=\"movie-page-rating\">\r\n          <p>{imdb}</p>\r\n          <a href={\"https://www.imdb.com/title/tt\" + ids.imdb}>\r\n            <img className=\"logo\" src={`${basename}/imdb.png`} alt=\"imdb logo\" />\r\n          </a>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const directors = listDirectors(directors_abridged);\r\n\r\n    return (\r\n      <div className=\"movie-page\">\r\n        <Helmet title={title} />\r\n        <div className=\"movie-about\">\r\n          <img src={poster} alt={`mynd fyrir bíómyndina ${title}`} />\r\n          <div className=\"movie-info\">\r\n            {dateSection}\r\n            <h1 className=\"movie-title\">{title}</h1>\r\n            {ratingSection}\r\n            <p>{directors}</p>\r\n            <p className=\"plot-text\">{plot}</p>\r\n          </div>\r\n        </div>\r\n        <YTPlaylist trailers={trailers[0]} />\r\n        <Showtimes showtimes={showtimes} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    upcomingMovies: state.upcomingMovies.upcomingMovies,\r\n    isFetchingUpcoming: state.upcomingMovies.isFetchingUpcoming,\r\n    movies: state.movies.movies,\r\n    isFetching: state.movies.isFetching,\r\n    message: state.movies.message,\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(MoviePage));","import MoviePage from './MoviePage';\r\nexport default MoviePage;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n// Myndir sóttar gegnum bakenda með redux\r\nimport { getUpcomingMovies } from '../../actions/upcomingMovies';\r\n\r\nimport Movie from '../../components/movie';\r\nimport Loading from '../../components/loading';\r\n\r\nimport { getStored } from '../../storedMovies';\r\n\r\nimport './UpcomingMovies.css';\r\n\r\nclass UpcomingMovies extends Component {\r\n\r\n  state = {\r\n    movies: null,\r\n    done: false,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { dispatch } = this.props;\r\n    const movies = await getStored('upcomingMovies');\r\n    if (movies) {\r\n      const sortedMovies = this.sortMovies(movies);\r\n      this.setState({ movies: sortedMovies, done: true });\r\n    }\r\n    else {\r\n      await dispatch(getUpcomingMovies());\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { isFetching, movies, message } = this.props;\r\n    const { done } = this.state;\r\n\r\n    if (!isFetching && !done) {\r\n      if (movies) { // Myndir sóttar gegnum bakenda\r\n        const sortedMovies = this.sortMovies(movies);\r\n        this.setState({ movies: sortedMovies, done: true });\r\n      } else if (message) {\r\n        console.error(message);\r\n      }\r\n    } else if (isFetching) {\r\n      console.info('Fetching movies');\r\n    }\r\n  }\r\n\r\n  sortMovies(movies) {\r\n    const newMovies = movies.map(movie => {\r\n      const date = new Date(movie['release-dateIS']);\r\n      movie.date = date;\r\n      return movie;\r\n    });\r\n    newMovies.sort((movieA, movieB) => movieA.date - movieB.date);\r\n\r\n    return newMovies;\r\n  }\r\n\r\n  render() {\r\n    const { message, isFetching } = this.props;\r\n    const { movies } = this.state;\r\n\r\n    if (isFetching) return (<Loading />);\r\n\r\n    if (message) return (<p>{message}</p>);\r\n\r\n    return (\r\n      <div className=\"movies\">\r\n        {movies &&\r\n          movies.map((movie) => {\r\n            return (\r\n              <Movie\r\n                key={movie.id}\r\n                movie={movie}\r\n                upcoming\r\n              />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.upcomingMovies.upcomingMovies,\r\n    isFetching: state.upcomingMovies.isFetchingUpcoming,\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(UpcomingMovies));\r\n","import UpcomingMovies from './UpcomingMovies';\r\nexport default UpcomingMovies;","import React, { Component } from 'react';\nimport Helmet from 'react-helmet';\nimport { Route, Switch } from 'react-router-dom'\nimport CookieConsent from 'react-cookie-consent';\n\nimport Header from './components/header';\n\nimport NotFound from './routes/not-found';\nimport Home from './routes/home';\nimport MoviePage from './routes/moviePage';\nimport UpcomingMovies from './routes/upcomingMovies';\n\nimport './App.css';\n\nclass App extends Component {\n\n  render() {\n\n    return (\n      <main className=\"main\">\n        <Helmet defaultTitle=\"Bíómyndir landsins\" titleTemplate=\"%s\" />\n        <Header />\n        <div className=\"main__content\">\n          <Switch location={this.props.location}>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/movie/:id\" component={MoviePage} />\n            <Route path=\"/upcoming\" component={UpcomingMovies} />\n            {/* todo fleiri route */}\n            <Route component={NotFound} />\n          </Switch>\n        </div>\n        <footer className=\"footer\">\n          <hr />\n          <p>&copy; {new Date().getFullYear()} - Bíómyndir landsins</p>\n        </footer>\n        <CookieConsent\n          buttonText=\"Allt í góðu\"\n          buttonStyle={{ cursor: \"pointer\" }}\n          >\n          Þessi síða notar kökur til að bæta notendaupplifunina.\n        </CookieConsent>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import {\r\n  MOVIES_REQUEST,\r\n  MOVIES_ERROR,\r\n  MOVIES_SUCCESS,\r\n} from '../actions/movies';\r\n\r\nconst initialState = {\r\n  isFetching: false,\r\n  movies: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case MOVIES_REQUEST:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n        movies: action.movies,\r\n      };\r\n\r\n    case MOVIES_ERROR:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n        movies: action.movies,\r\n        message: action.message,\r\n      };\r\n\r\n    case MOVIES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n        movies: action.movies,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {\r\n  UPCOMING_MOVIES_REQUEST,\r\n  UPCOMING_MOVIES_ERROR,\r\n  UPCOMING_MOVIES_SUCCESS,\r\n} from '../actions/upcomingMovies';\r\n\r\nconst initialState = {\r\n  isFetchingUpcoming: false,\r\n  upcomingMovies: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case UPCOMING_MOVIES_REQUEST:\r\n      return {\r\n        ...state,\r\n        isFetchingUpcoming: action.isFetchingUpcoming,\r\n        upcomingMovies: action.upcomingMovies,\r\n      };\r\n\r\n    case UPCOMING_MOVIES_ERROR:\r\n      return {\r\n        ...state,\r\n        isFetchingUpcoming: action.isFetchingUpcoming,\r\n        upcomingMovies: action.upcomingMovies,\r\n        message: action.message,\r\n      };\r\n\r\n    case UPCOMING_MOVIES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isFetchingUpcoming: action.isFetchingUpcoming,\r\n        upcomingMovies: action.upcomingMovies,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport movies from './movies';\r\nimport upcomingMovies from './upcomingMovies';\r\n\r\nexport default combineReducers({\r\n  movies,\r\n  upcomingMovies,\r\n});","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ScrollToTop extends React.Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location !== prevProps.location) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './App';\nimport rootReducer from './reducers';\nimport ScrollToTop from './ScrollToTop';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunk)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    {/* basename notað vegna github pages */}\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <ScrollToTop>\n        <App />\n      </ScrollToTop>\n    </BrowserRouter>\n  </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}