(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(75)},41:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(25),s=n.n(r),c=n(78),o=n(15),u=n(26),m=n(12),l=(n(41),n(3)),p=n(4),v=n(6),h=n(5),f=n(7),d=n(16),g=n.n(d),b=n(79),E=n(77),O=n(29),y=n.n(O),j=n(76),k=(n(50),function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("nav",{className:"nav-bar"},i.a.createElement(j.a,{className:"home-button",to:"/",style:{textDecoration:"none"}},i.a.createElement("img",{src:"".concat("/biomyndir","/Home.png"),alt:"Home Icon"})),i.a.createElement(j.a,{to:"/upcoming",style:{textDecoration:"none"}},i.a.createElement("p",{className:"upcoming-button"},"V\xe6ntanlegt")))}}]),t}(a.Component)),w=(n(52),function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"not-found"},i.a.createElement(g.a,{title:"S\xed\xf0a fannst ekki"}),i.a.createElement("h1",null,"S\xed\xf0a fannst ekki"))}}]),t}(a.Component)),M=n(2),F=n.n(M),N=n(10),S=n(80);function x(e){return U.apply(this,arguments)}function U(){return(U=Object(N.a)(F.a.mark(function e(t){var n,a,i;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=JSON.parse(window.localStorage.getItem(t)))){e.next=6;break}if(a=n.timestamp,!(new Date-new Date(a)<72e5)){e.next=6;break}return i=n.movies,e.abrupt("return",i);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function C(e,t){return D.apply(this,arguments)}function D(){return(D=Object(N.a)(F.a.mark(function e(t,n){var a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a={movies:n,timestamp:new Date},window.localStorage.setItem(t,JSON.stringify(a));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var I="https://bio-serverinn.herokuapp.com",_={headers:{authorization:"Bearer Kappa"},method:"GET"};function B(){return(B=Object(N.a)(F.a.mark(function e(){var t,n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=I,e.next=3,fetch(t,_);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,200===n.status&&C("movies",a),e.abrupt("return",{result:a,status:n.status});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function J(){return(J=Object(N.a)(F.a.mark(function e(){var t,n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/upcoming"),e.next=3,fetch(t,_);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,200===n.status&&C("upcomingMovies",a),e.abrupt("return",{result:a,status:n.status});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var R={getMovies:function(){return B.apply(this,arguments)},getUpcomingMovies:function(){return J.apply(this,arguments)}},A="MOVIES_REQUEST",T="MOVIES_ERROR",V="MOVIES_SUCCESS";function P(e){return{type:T,isFetching:!1,movies:null,message:e}}var G=function(){return function(){var e=Object(N.a)(F.a.mark(function e(t){var n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:A,isFetching:!0,movies:null}),e.prev=1,e.next=4,R.getMovies();case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t(P(e.t0)));case 10:401===n.status?t(P(n.result)):(a=n.result,t({type:V,isFetching:!1,movies:a}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},H=(n(56),function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClick,a=e.type,r=e.pushed,s="button ".concat(a);return r&&(s+=" pushed"),i.a.createElement("button",{onClick:n,className:s},t)}}]),t}(a.Component));H.defaultProps={onClick:function(){}};var K=H,L=["Jan\xfaar","Febr\xfaar","Mars","Apr\xedl","Ma\xed","J\xfan\xed","J\xfal\xed","\xc1g\xfast","September","Okt\xf3ber","N\xf3vember","Desember"];n(58);var Y=function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"rating",value:function(){var e=this.props,t=e.upcoming,n=e.movie,a=n.ratings;if(t){var r=n.date,s=L[r.getMonth()],c="".concat(r.getDate(),". ").concat(s," ").concat(r.getFullYear());return i.a.createElement("p",{className:"release-date"},c)}return i.a.createElement("div",{className:"rating"},i.a.createElement("p",null,a.imdb),i.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"}))}},{key:"render",value:function(){var e=this.props.movie,t=e.title,n=e.id,a=this.rating(),r=e.poster;return r="https://kvikmyndir.is/images/poster/"===r?"".concat("/biomyndir","/noPoster.png"):r,i.a.createElement("figure",{className:"movieSpace"},i.a.createElement(j.a,{to:"/movie/"+n,style:{textDecoration:"none"}},i.a.createElement("img",{src:r,alt:"Mynd fyrir b\xed\xf3myndina "+t}),i.a.createElement("figcaption",null,i.a.createElement("p",{className:"title"},t),a)))}}]),t}(a.Component),Q=(n(60),function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bullseye"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"dash uno"}),i.a.createElement("div",{className:"dash dos"}),i.a.createElement("div",{className:"dash tres"}),i.a.createElement("div",{className:"dash cuatro"})))}}]),t}(a.Component)),W=(n(62),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={allMovies:null,movies:null,done:!1,cinemas:[{name:"\xc1lfabakki",pushed:!1},{name:"Borgarb\xed\xf3",pushed:!1},{name:"B\xed\xf3 Parad\xeds",pushed:!1},{name:"Samb\xed\xf3in Egilsh\xf6ll",pushed:!1},{name:"H\xe1sk\xf3lab\xed\xf3",pushed:!1},{name:"Kringlub\xed\xf3",pushed:!1},{name:"Laugar\xe1sb\xed\xf3",pushed:!1},{name:"Samb\xed\xf3in, Akureyri",pushed:!1},{name:"Samb\xed\xf3in, Keflav\xedk",pushed:!1},{name:"Sm\xe1rab\xed\xf3",pushed:!1}],sortMovies:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(F.a.mark(function e(){var t,n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,x("movies");case 3:if(!(n=e.sent)){e.next=8;break}this.setState({allMovies:n,movies:n,done:!0}),e.next=10;break;case 8:return e.next=10,t(G());case 10:(a=JSON.parse(window.localStorage.getItem("cinemas")))&&this.setState({cinemas:a,sortMovies:!0});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.movies,a=e.message,i=this.state,r=i.done,s=i.sortMovies,c=i.cinemas;t||r?t?console.info("Fetching movies"):s&&this.sortMovies(c):n?this.setState({allMovies:n,movies:n,done:!0}):a&&console.error(a)}},{key:"cinemaButton",value:function(e){var t=this.state.cinemas;t[e].pushed=!t[e].pushed,this.sortMovies(t)}},{key:"invalidateCinemas",value:function(){var e=this.state.cinemas;e.forEach(function(e){return e.pushed=!0}),this.sortMovies(e)}},{key:"sortMovies",value:function(e){var t=this.state.allMovies,n=[],a=e.filter(function(e){return!e.pushed});t.forEach(function(e){var t=!1;a.forEach(function(n){e.showtimes.some(function(e){return e.cinema.name===n.name})&&(t=!0)}),t&&n.push(e)}),window.localStorage.setItem("cinemas",JSON.stringify(e)),this.setState({movies:n,cinemas:e,sortMovies:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.message,a=t.isFetching,r=this.state,s=r.cinemas,c=r.movies;return a?i.a.createElement(Q,null):n?i.a.createElement("p",null,n):i.a.createElement("div",null,i.a.createElement("div",{className:"cinemas"},i.a.createElement("h3",null,"B\xed\xf3h\xfas"),i.a.createElement("div",{className:"cinema-buttons"},s.map(function(t,n){return i.a.createElement(K,{key:n,pushed:t.pushed,onClick:function(){return e.cinemaButton(n)}},t.name)})),i.a.createElement(K,{type:"cancel",onClick:function(){return e.invalidateCinemas()}},"Afvelja allt")),i.a.createElement("div",{className:"movies"},c&&c.map(function(e){return i.a.createElement(Y,{key:e.id,movie:e})})))}}]),t}(a.Component)),z=Object(S.a)(Object(m.b)(function(e){return{movies:e.movies.movies,isFetching:e.movies.isFetching,message:e.movies.message}})(W)),$="UPCOMING_MOVIES_REQUEST",q="UPCOMING_MOVIES_ERROR",X="UPCOMING_MOVIES_SUCCESS";function Z(e){return{type:q,isFetchingUpcoming:!1,upcomingMovies:null,message:e}}var ee=function(){return function(){var e=Object(N.a)(F.a.mark(function e(t){var n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:$,isFetchingUpcoming:!0,upcomingMovies:null}),e.prev=1,e.next=4,R.getUpcomingMovies();case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t(Z(e.t0)));case 10:401===n.status?t(Z(n.result)):(a=n.result,t({type:X,isFetchingUpcoming:!1,upcomingMovies:a}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},te=(n(65),function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.showtimes;return i.a.createElement("div",{className:"showtimes"},e&&e.map(function(e){var t=e.cinema,n=t.name,a=t.id,r=e.schedule;return i.a.createElement("section",{key:a,className:"theater-showtimes"},i.a.createElement("h1",null,n),i.a.createElement("div",{className:"schedules"},r.map(function(e,t){return i.a.createElement("a",{key:"".concat(a).concat(t),href:e.purchase_url},i.a.createElement(K,{type:"schedule"},i.a.createElement("p",null,e.time)))})))}))}}]),t}(a.Component)),ne=(n(67),function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.trailers;if(!e)return null;var t=e.results,n="";return t.forEach(function(e){return n+=","+e.key}),i.a.createElement(i.a.Fragment,null,t.length>0&&i.a.createElement("div",{className:"youtubevideowrap"},i.a.createElement("div",{className:"video-container"},i.a.createElement("iframe",{title:"trailers",width:"640",height:"352",align:"center",src:"https://www.youtube.com/embed/?playlist=".concat(n),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}))))}}]),t}(a.Component)),ae=(n(69),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={movies:null,upcomingMovies:null,doneMovies:!1,doneUpcoming:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(F.a.mark(function e(){var t,n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,x("movies");case 3:return n=e.sent,e.next=6,x("upcomingMovies");case 6:a=e.sent,n?this.setState({movies:n,doneMovies:!0}):t(G()),a?this.setState({upcomingMovies:a,doneUpcoming:!0}):t(ee());case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.isFetchingUpcoming,a=e.movies,i=e.upcomingMovies,r=e.message,s=this.state,c=s.doneMovies,o=s.doneUpcoming;t&&n?console.info("Fetching movies"):a&&!c?this.setState({movies:a,doneMovies:!0}):i&&!o?this.setState({upcomingMovies:i,doneUpcoming:!0}):r&&console.error(r)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.isFetching,a=e.isFetchingUpcoming,r=this.state,s=r.movies,c=r.upcomingMovies;if(t)return i.a.createElement("p",null,t);if(n||a||!s||!c)return i.a.createElement(Q,null);var o=this.props.match.params.id,u=s.find(function(e){return e.id===parseInt(o)}),m=!1;if(u||(u=c.find(function(e){return e.id===parseInt(o)}),m=!0),!u)return i.a.createElement("h2",{className:"movie-notfound"},"Mynd fannst ekki");var l,p,v=u,h=v.title,f=v.poster,d=v.ratings,b=v.ids,E=v.plot,O=v.showtimes,y=v.directors_abridged,j=v.trailers;if(m){var k=new Date(u["release-dateIS"]),w="".concat(k.getDate(),". ").concat(L[k.getMonth()]," ").concat(k.getFullYear());p=i.a.createElement("h2",{className:"movie-page_release-date"},w)}else{var M=d.imdb;l=i.a.createElement("div",{className:"movie-page-rating"},i.a.createElement("p",null,M),i.a.createElement("a",{href:"https://www.imdb.com/title/tt"+b.imdb},i.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"})))}var F=function(e){var t="Leikstj\xf3ri: ".concat(e[0].name);if(e.length>1){t="Leikstj\xf3rar: "+e[0].name;for(var n=1;n<e.length;n++)n===e.length-1?t+=" og ".concat(e[n].name):t+=", ".concat(e[n].name)}return t}(y);return i.a.createElement("div",{className:"movie-page"},i.a.createElement(g.a,{title:h}),i.a.createElement("div",{className:"movie-about"},i.a.createElement("img",{src:f,alt:"mynd fyrir b\xed\xf3myndina ".concat(h)}),i.a.createElement("div",{className:"movie-info"},p,i.a.createElement("h1",{className:"movie-title"},h),l,i.a.createElement("p",null,F),i.a.createElement("p",{className:"plot-text"},E))),i.a.createElement(ne,{trailers:j[0]}),i.a.createElement(te,{showtimes:O}))}}]),t}(a.Component)),ie=Object(S.a)(Object(m.b)(function(e){return{upcomingMovies:e.upcomingMovies.upcomingMovies,isFetchingUpcoming:e.upcomingMovies.isFetchingUpcoming,movies:e.movies.movies,isFetching:e.movies.isFetching,message:e.movies.message}})(ae)),re=(n(71),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={movies:null,done:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(F.a.mark(function e(){var t,n,a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,x("upcomingMovies");case 3:if(!(n=e.sent)){e.next=9;break}a=this.sortMovies(n),this.setState({movies:a,done:!0}),e.next=11;break;case 9:return e.next=11,t(ee());case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.movies,a=e.message,i=this.state.done;if(t||i)t&&console.info("Fetching movies");else if(n){var r=this.sortMovies(n);this.setState({movies:r,done:!0})}else a&&console.error(a)}},{key:"sortMovies",value:function(e){var t=e.map(function(e){var t=new Date(e["release-dateIS"]);return e.date=t,e});return t.sort(function(e,t){return e.date-t.date}),t}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.isFetching,a=this.state.movies;return n?i.a.createElement(Q,null):t?i.a.createElement("p",null,t):i.a.createElement("div",{className:"movies"},a&&a.map(function(e){return i.a.createElement(Y,{key:e.id,movie:e,upcoming:!0})}))}}]),t}(a.Component)),se=Object(S.a)(Object(m.b)(function(e){return{movies:e.upcomingMovies.upcomingMovies,isFetching:e.upcomingMovies.isFetchingUpcoming}})(re)),ce=(n(73),function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("main",{className:"main"},i.a.createElement(g.a,{defaultTitle:"B\xed\xf3myndir landsins",titleTemplate:"%s"}),i.a.createElement(k,null),i.a.createElement("div",{className:"main__content"},i.a.createElement(b.a,{location:this.props.location},i.a.createElement(E.a,{path:"/",exact:!0,component:z}),i.a.createElement(E.a,{path:"/movie/:id",component:ie}),i.a.createElement(E.a,{path:"/upcoming",component:se}),i.a.createElement(E.a,{component:w}))),i.a.createElement("footer",{className:"footer"},i.a.createElement("hr",null),i.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," - B\xed\xf3myndir landsins")),i.a.createElement(y.a,{buttonText:"Allt \xed g\xf3\xf0u",buttonStyle:{cursor:"pointer"}},"\xdeessi s\xed\xf0a notar k\xf6kur til a\xf0 b\xe6ta notendaupplifunina."))}}]),t}(a.Component)),oe=n(13),ue={isFetching:!1,movies:null},me={isFetchingUpcoming:!1,upcomingMovies:null},le=Object(o.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(oe.a)({},e,{isFetching:t.isFetching,movies:t.movies});case T:return Object(oe.a)({},e,{isFetching:t.isFetching,movies:t.movies,message:t.message});case V:return Object(oe.a)({},e,{isFetching:t.isFetching,movies:t.movies});default:return e}},upcomingMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(oe.a)({},e,{isFetchingUpcoming:t.isFetchingUpcoming,upcomingMovies:t.upcomingMovies});case q:return Object(oe.a)({},e,{isFetchingUpcoming:t.isFetchingUpcoming,upcomingMovies:t.upcomingMovies,message:t.message});case X:return Object(oe.a)({},e,{isFetchingUpcoming:t.isFetchingUpcoming,upcomingMovies:t.upcomingMovies});default:return e}}}),pe=function(e){function t(){return Object(l.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(i.a.Component),ve=Object(S.a)(pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=Object(o.d)(le,Object(o.a)(u.a));s.a.render(i.a.createElement(m.a,{store:he},i.a.createElement(c.a,{basename:"/biomyndir"},i.a.createElement(ve,null,i.a.createElement(ce,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.8b220d52.chunk.js.map