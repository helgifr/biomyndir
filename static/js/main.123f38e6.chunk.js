(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(71)},41:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),s=n.n(i),c=n(74),o=n(15),u=n(26),l=n(12),m=(n(41),n(3)),p=n(4),h=n(6),v=n(5),f=n(7),d=n(16),g=n.n(d),b=n(75),E=n(73),y=n(29),O=n.n(y),j=n(72),w=(n(50),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav-bar"},r.a.createElement(j.a,{to:"/",style:{textDecoration:"none"}},r.a.createElement("p",{className:"home-button"},"Heim")),r.a.createElement(j.a,{to:"/upcoming",style:{textDecoration:"none"}},r.a.createElement("p",{className:"upcoming-button"},"V\xe6ntanlegt")))}}]),t}(a.Component)),k=(n(52),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement(g.a,{title:"S\xed\xf0a fannst ekki"}),r.a.createElement("h1",null,"S\xed\xf0a fannst ekki"))}}]),t}(a.Component)),M=n(2),S=n.n(M),N=n(8),F=n(76);function x(){return D.apply(this,arguments)}function D(){return(D=Object(N.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(window.localStorage.getItem("movies")))){e.next=6;break}if(n=t.timestamp,!(new Date-new Date(n)<72e5)){e.next=6;break}return a=t.movies,e.abrupt("return",a);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function C(e){return I.apply(this,arguments)}function I(){return(I=Object(N.a)(S.a.mark(function e(t){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={movies:t,timestamp:new Date},window.localStorage.setItem("movies",JSON.stringify(n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function U(){return B.apply(this,arguments)}function B(){return(B=Object(N.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(window.localStorage.getItem("upcomingMovies")))){e.next=6;break}if(n=t.timestamp,!(new Date-new Date(n)<72e5)){e.next=6;break}return a=t.movies,e.abrupt("return",a);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function J(e){return _.apply(this,arguments)}function _(){return(_=Object(N.a)(S.a.mark(function e(t){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={movies:t,timestamp:new Date},window.localStorage.setItem("upcomingMovies",JSON.stringify(n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var R="https://bio-serverinn.herokuapp.com",T={headers:{authorization:"Bearer Kappa"},method:"GET"};function V(){return(V=Object(N.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=R,e.next=3,fetch(t,T);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,200===n.status&&C(a),e.abrupt("return",{result:a,status:n.status});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function A(){return(A=Object(N.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(R,"/upcoming"),e.next=3,fetch(t,T);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,200===n.status&&J(a),e.abrupt("return",{result:a,status:n.status});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var K={getMovies:function(){return V.apply(this,arguments)},getUpcomingMovies:function(){return A.apply(this,arguments)}},L="MOVIES_REQUEST",P="MOVIES_ERROR",Y="MOVIES_SUCCESS";function H(e){return{type:P,isFetching:!1,movies:null,message:e}}var Q=function(){return function(){var e=Object(N.a)(S.a.mark(function e(t){var n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:L,isFetching:!0,movies:null}),e.prev=1,e.next=4,K.getMovies();case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t(H(e.t0)));case 10:401===n.status?t(H(n.result)):(a=n.result,t({type:Y,isFetching:!1,movies:a}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},W=(n(56),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.onClick,i=e.pushed,s="button ".concat(n);return i&&(s+=" pushed"),r.a.createElement("button",{onClick:a,className:s},t)}}]),t}(a.Component));W.defaultProps={className:"",onClick:function(){}};var z=W,G=["Jan\xfaar","Febr\xfaar","Mars","Apr\xedl","Ma\xed","J\xfan\xed","J\xfal\xed","\xc1g\xfast","September","Okt\xf3ber","N\xf3vember","Desember"];n(58);var $=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"rating",value:function(){var e=this.props,t=e.upcoming,n=e.movie,a=n.ratings;if(t){var i=n.date,s=G[i.getMonth()],c="".concat(i.getDate(),". ").concat(s," ").concat(i.getFullYear());return r.a.createElement("p",{className:"release-date"},c)}return r.a.createElement("div",{className:"rating"},r.a.createElement("p",null,a.imdb),r.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"}))}},{key:"render",value:function(){var e=this.props.movie,t=e.title,n=e.id,a=this.rating(),i=e.poster;return i="https://kvikmyndir.is/images/poster/"===i?"".concat("/biomyndir","/noPoster.png"):i,r.a.createElement("figure",{className:"movieSpace"},r.a.createElement(j.a,{to:"/movie/"+n,style:{textDecoration:"none"}},r.a.createElement("img",{src:i,alt:"Mynd fyrir b\xed\xf3myndina "+t}),r.a.createElement("figcaption",null,r.a.createElement("p",{className:"title"},t),a)))}}]),t}(a.Component),q=(n(60),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bullseye"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dash uno"}),r.a.createElement("div",{className:"dash dos"}),r.a.createElement("div",{className:"dash tres"}),r.a.createElement("div",{className:"dash cuatro"})))}}]),t}(a.Component)),X=(n(62),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={allMovies:null,movies:null,done:!1,cinemas:[{name:"\xc1lfabakki",pushed:!1},{name:"Borgarb\xed\xf3",pushed:!1},{name:"B\xed\xf3 Parad\xeds",pushed:!1},{name:"Samb\xed\xf3in Egilsh\xf6ll",pushed:!1},{name:"H\xe1sk\xf3lab\xed\xf3",pushed:!1},{name:"Kringlub\xed\xf3",pushed:!1},{name:"Laugar\xe1sb\xed\xf3",pushed:!1},{name:"Samb\xed\xf3in, Akureyri",pushed:!1},{name:"Samb\xed\xf3in, Keflav\xedk",pushed:!1},{name:"Sm\xe1rab\xed\xf3",pushed:!1}],sortMovies:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,x();case 3:if(!(n=e.sent)){e.next=8;break}this.setState({allMovies:n,movies:n,done:!0}),e.next=10;break;case 8:return e.next=10,t(Q());case 10:(a=JSON.parse(window.localStorage.getItem("cinemas")))&&this.setState({cinemas:a,sortMovies:!0});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.isFetching,r=n.movies,i=n.message,s=this.state,c=s.done,o=s.sortMovies,u=s.cinemas;a||c?a?console.info("Fetching movies"):o&&this.sortMovies(u):r?this.setState({allMovies:r,movies:r,done:!0}):i&&console.error(i)}},{key:"cinemaButton",value:function(e){var t=this.state.cinemas;t[e].pushed=!t[e].pushed,this.sortMovies(t)}},{key:"sortMovies",value:function(e){var t=this.state.allMovies,n=[];t.forEach(function(t){var a=!1;e.forEach(function(e){if(!e.pushed&&t.showtimes.filter(function(t){return t.cinema.name===e.name}).length>0)return void(a=!0)}),a&&n.push(t)}),window.localStorage.setItem("cinemas",JSON.stringify(e)),this.setState({movies:n,cinemas:e,sortMovies:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.message,a=t.isFetching,i=this.state,s=i.cinemas,c=i.movies;return a?r.a.createElement(q,null):n?r.a.createElement("p",null,n):r.a.createElement("div",null,r.a.createElement("div",{className:"cinemas"},r.a.createElement("h3",null,"B\xed\xf3h\xfas"),s.map(function(t,n){return r.a.createElement(z,{key:n,pushed:t.pushed,onClick:function(){return e.cinemaButton(n)}},t.name)})),r.a.createElement("div",{className:"movies"},c&&c.map(function(e){return r.a.createElement($,{key:e.id,movie:e})})))}}]),t}(a.Component)),Z=Object(F.a)(Object(l.b)(function(e){return{movies:e.movies.movies,isFetching:e.movies.isFetching}})(X)),ee="MOVIES_REQUEST",te="MOVIES_ERROR",ne="MOVIES_SUCCESS";function ae(e){return{type:te,isFetching:!1,movies:null,message:e}}var re=function(){return function(){var e=Object(N.a)(S.a.mark(function e(t){var n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ee,isFetching:!0,movies:null}),e.prev=1,e.next=4,K.getUpcomingMovies();case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t(ae(e.t0)));case 10:401===n.status?t(ae(n.result)):(a=n.result,t({type:ne,isFetching:!1,movies:a}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},ie=(n(65),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={movies:null,upcomingMovies:null,doneMovies:!1,doneUpcoming:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,x();case 3:return n=e.sent,e.next=6,U();case 6:a=e.sent,n?this.setState({movies:n,doneMovies:!0}):t(Q()),a?this.setState({upcomingMovies:a,doneUpcoming:!0}):t(re());case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.movies,a=e.upcomingMovies,r=e.message,i=this.state,s=i.doneMovies,c=i.doneUpcoming;t||s||c?t&&console.info("Fetching movies"):n&&a?this.setState({movies:n,upcomingMovies:a,doneMovies:!0,doneUpcoming:!0}):console.error(r)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.isFetching,a=this.state,i=a.movies,s=a.upcomingMovies;if(t)return r.a.createElement("p",null,t);if(n||!i||!s)return r.a.createElement(q,null);var c=this.props.match.params.id,o=i.filter(function(e){return e.id===parseInt(c)}),u=!1;if(0===o.length&&(o=s.filter(function(e){return e.id===parseInt(c)}),u=!0),0===o.length)return r.a.createElement("h2",{className:"movie-notfound"},"Mynd fannst ekki");var l,m,p=o[0],h=p.title,v=p.poster,f=p.ratings,d=p.ids,b=p.plot,E=p.showtimes,y=p.directors_abridged,O=p.trailers,j=null;if(u){var w=new Date(o[0]["release-dateIS"]),k="".concat(w.getDate(),". ").concat(G[w.getMonth()]," ").concat(w.getFullYear());m=r.a.createElement("h2",{className:"movie-page_release-date"},k)}else{var M=f.imdb;l=r.a.createElement("div",{className:"movie-page-rating"},r.a.createElement("p",null,M),r.a.createElement("a",{href:"https://www.imdb.com/title/tt"+d.imdb},r.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"}))),j=r.a.createElement("div",{className:"showtimes"},o&&E.map(function(e){var t=e.cinema,n=t.name,a=t.id,i=e.schedule;return r.a.createElement("section",{key:a,className:"theater-showtimes"},r.a.createElement("h1",null,n),r.a.createElement("div",{className:"schedules"},i.map(function(e,t){return r.a.createElement("a",{key:"".concat(a).concat(t),href:e.purchase_url},r.a.createElement(z,{className:"schedule"},r.a.createElement("p",null,e.time)))})))}))}var S=O[0].results,N="";S.forEach(function(e){return N+=","+e.key});var F=function(e){var t="Leikstj\xf3ri: ".concat(e[0].name);if(e.length>1){t="Leikstj\xf3rar: "+e[0].name;for(var n=1;n<e.length;n++)n===e.length-1?t+=" og ".concat(e[n].name):t+=", ".concat(e[n].name)}return t}(y);return r.a.createElement("div",{className:"movie-page"},r.a.createElement(g.a,{title:h}),r.a.createElement("div",{className:"movie-about"},r.a.createElement("img",{src:v,alt:"mynd fyrir b\xed\xf3myndina "+h}),r.a.createElement("div",{className:"movie-info"},m,r.a.createElement("h1",{className:"movie-title"},h),l,r.a.createElement("p",null,F),r.a.createElement("p",{className:"plot-text"},b))),S.length>0&&r.a.createElement("div",{className:"youtubevideowrap"},r.a.createElement("div",{className:"video-container"},r.a.createElement("iframe",{title:"trailers",width:"640",height:"352",align:"center",src:"https://www.youtube.com/embed/?playlist=".concat(N),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}))),j)}}]),t}(a.Component)),se=Object(F.a)(Object(l.b)(function(e){return{upcomingMovies:e.upcomingMovies.movies,isFetchingUpcoming:e.upcomingMovies.isFetching,movies:e.movies.movies,isFetching:e.movies.isFetching}})(ie)),ce=(n(67),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={movies:null,done:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,U();case 3:if(!(n=e.sent)){e.next=9;break}a=this.sortMovies(n),this.setState({movies:a,done:!0}),e.next=11;break;case 9:return e.next=11,t(re());case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.isFetching,r=n.movies,i=n.message,s=this.state.done;if(a||s)a&&console.info("Fetching movies");else if(r){var c=this.sortMovies(r);this.setState({movies:c,done:!0})}else i&&console.error(i)}},{key:"sortMovies",value:function(e){var t=e.map(function(e){var t=new Date(e["release-dateIS"]);return e.date=t,e});return t.sort(function(e,t){return e.date-t.date}),t}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.isFetching,a=this.state.movies;return n?r.a.createElement(q,null):t?r.a.createElement("p",null,t):r.a.createElement("div",{className:"movies"},a&&a.map(function(e){return r.a.createElement($,{key:e.id,movie:e,upcoming:!0})}))}}]),t}(a.Component)),oe=Object(F.a)(Object(l.b)(function(e){return{movies:e.upcomingMovies.movies,isFetching:e.upcomingMovies.isFetching}})(ce)),ue=(n(69),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"main"},r.a.createElement(g.a,{defaultTitle:"B\xed\xf3myndir landsins",titleTemplate:"%s"}),r.a.createElement(w,null),r.a.createElement("div",{className:"main__content"},r.a.createElement(b.a,{location:this.props.location},r.a.createElement(E.a,{path:"/",exact:!0,component:Z}),r.a.createElement(E.a,{path:"/movie/:id",component:se}),r.a.createElement(E.a,{path:"/upcoming",component:oe}),r.a.createElement(E.a,{component:k}))),r.a.createElement("footer",{className:"footer"},r.a.createElement("hr",null),r.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," - B\xed\xf3myndir landsins")),r.a.createElement(O.a,{buttonText:"Allt \xed g\xf3\xf0u",buttonStyle:{cursor:"pointer"}},"\xdeessi s\xed\xf0a notar k\xf6kur til a\xf0 b\xe6ta notendaupplifunina."))}}]),t}(a.Component)),le=n(13),me={isFetching:!1,movies:null},pe={isFetchingUpcoming:!1,upcomingMovies:null},he=Object(o.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(le.a)({},e,{isFetching:t.isFetching,movies:t.movies});case P:return Object(le.a)({},e,{isFetching:t.isFetching,movies:t.movies,message:t.message});case Y:return Object(le.a)({},e,{isFetching:t.isFetching,movies:t.movies});default:return e}},upcomingMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(le.a)({},e,{isFetching:t.isFetching,movies:t.movies});case te:return Object(le.a)({},e,{isFetching:t.isFetching,movies:t.movies,message:t.message});case ne:return Object(le.a)({},e,{isFetching:t.isFetching,movies:t.movies});default:return e}}}),ve=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(r.a.Component),fe=Object(F.a)(ve);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=Object(o.d)(he,Object(o.a)(u.a));s.a.render(r.a.createElement(l.a,{store:de},r.a.createElement(c.a,{basename:"/biomyndir"},r.a.createElement(fe,null,r.a.createElement(ue,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.123f38e6.chunk.js.map