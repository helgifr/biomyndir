(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(71)},41:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(25),s=n.n(r),c=n(74),o=n(15),u=n(26),m=n(12),l=(n(41),n(3)),p=n(4),h=n(6),v=n(5),f=n(7),g=n(16),d=n.n(g),b=n(75),E=n(73),y=n(29),O=n.n(y),j=n(72),w=(n(50),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("nav",{className:"nav-bar"},i.a.createElement(j.a,{to:"/",style:{textDecoration:"none"}},i.a.createElement("p",{className:"home-button"},"Heim")),i.a.createElement(j.a,{to:"/upcoming",style:{textDecoration:"none"}},i.a.createElement("p",{className:"upcoming-button"},"V\xe6ntanlegt")))}}]),t}(a.Component)),k=(n(52),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"not-found"},i.a.createElement(d.a,{title:"S\xed\xf0a fannst ekki"}),i.a.createElement("h1",null,"S\xed\xf0a fannst ekki"))}}]),t}(a.Component)),M=n(2),N=n.n(M),S=n(8),F=n(76);function x(){return U.apply(this,arguments)}function U(){return(U=Object(S.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(window.localStorage.getItem("movies")))){e.next=6;break}if(n=t.timestamp,!(new Date-new Date(n)<72e5)){e.next=6;break}return a=t.movies,e.abrupt("return",a);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function D(e){return C.apply(this,arguments)}function C(){return(C=Object(S.a)(N.a.mark(function e(t){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={movies:t,timestamp:new Date},window.localStorage.setItem("movies",JSON.stringify(n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function I(){return _.apply(this,arguments)}function _(){return(_=Object(S.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(window.localStorage.getItem("upcomingMovies")))){e.next=6;break}if(n=t.timestamp,!(new Date-new Date(n)<72e5)){e.next=6;break}return a=t.movies,e.abrupt("return",a);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(e){return J.apply(this,arguments)}function J(){return(J=Object(S.a)(N.a.mark(function e(t){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={movies:t,timestamp:new Date},window.localStorage.setItem("upcomingMovies",JSON.stringify(n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var R="https://bio-serverinn.herokuapp.com",T={headers:{authorization:"Bearer Kappa"},method:"GET"};function V(){return(V=Object(S.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=R,e.next=3,fetch(t,T);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,200===n.status&&D(a),e.abrupt("return",{result:a,status:n.status});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function A(){return(A=Object(S.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(R,"/upcoming"),e.next=3,fetch(t,T);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,200===n.status&&B(a),e.abrupt("return",{result:a,status:n.status});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var P={getMovies:function(){return V.apply(this,arguments)},getUpcomingMovies:function(){return A.apply(this,arguments)}},G="MOVIES_REQUEST",K="MOVIES_ERROR",L="MOVIES_SUCCESS";function Y(e){return{type:K,isFetching:!1,movies:null,message:e}}var H=function(){return function(){var e=Object(S.a)(N.a.mark(function e(t){var n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:G,isFetching:!0,movies:null}),e.prev=1,e.next=4,P.getMovies();case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t(Y(e.t0)));case 10:401===n.status?t(Y(n.result)):(a=n.result,t({type:L,isFetching:!1,movies:a}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},Q=(n(56),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.onClick,r=e.pushed,s="button ".concat(n);return r&&(s+=" pushed"),i.a.createElement("button",{onClick:a,className:s},t)}}]),t}(a.Component));Q.defaultProps={className:"",onClick:function(){}};var W=Q,z=["Jan\xfaar","Febr\xfaar","Mars","Apr\xedl","Ma\xed","J\xfan\xed","J\xfal\xed","\xc1g\xfast","September","Okt\xf3ber","N\xf3vember","Desember"];n(58);var $=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"rating",value:function(){var e=this.props,t=e.upcoming,n=e.movie,a=n.ratings;if(t){var r=n.date,s=z[r.getMonth()],c="".concat(r.getDate(),". ").concat(s," ").concat(r.getFullYear());return i.a.createElement("p",{className:"release-date"},c)}return i.a.createElement("div",{className:"rating"},i.a.createElement("p",null,a.imdb),i.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"}))}},{key:"render",value:function(){var e=this.props.movie,t=e.title,n=e.id,a=this.rating(),r=e.poster;return r="https://kvikmyndir.is/images/poster/"===r?"".concat("/biomyndir","/noPoster.png"):r,i.a.createElement("figure",{className:"movieSpace"},i.a.createElement(j.a,{to:"/movie/"+n,style:{textDecoration:"none"}},i.a.createElement("img",{src:r,alt:"Mynd fyrir b\xed\xf3myndina "+t}),i.a.createElement("figcaption",null,i.a.createElement("p",{className:"title"},t),a)))}}]),t}(a.Component),q=(n(60),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bullseye"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"dash uno"}),i.a.createElement("div",{className:"dash dos"}),i.a.createElement("div",{className:"dash tres"}),i.a.createElement("div",{className:"dash cuatro"})))}}]),t}(a.Component)),X=(n(62),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={allMovies:null,movies:null,done:!1,cinemas:[{name:"\xc1lfabakki",pushed:!1},{name:"Borgarb\xed\xf3",pushed:!1},{name:"B\xed\xf3 Parad\xeds",pushed:!1},{name:"Samb\xed\xf3in Egilsh\xf6ll",pushed:!1},{name:"H\xe1sk\xf3lab\xed\xf3",pushed:!1},{name:"Kringlub\xed\xf3",pushed:!1},{name:"Laugar\xe1sb\xed\xf3",pushed:!1},{name:"Samb\xed\xf3in, Akureyri",pushed:!1},{name:"Samb\xed\xf3in, Keflav\xedk",pushed:!1},{name:"Sm\xe1rab\xed\xf3",pushed:!1}],sortMovies:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,x();case 3:if(!(n=e.sent)){e.next=8;break}this.setState({allMovies:n,movies:n,done:!0}),e.next=10;break;case 8:return e.next=10,t(H());case 10:(a=JSON.parse(window.localStorage.getItem("cinemas")))&&this.setState({cinemas:a,sortMovies:!0});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.movies,a=e.message,i=this.state,r=i.done,s=i.sortMovies,c=i.cinemas;t||r?t?console.info("Fetching movies"):s&&this.sortMovies(c):n?this.setState({allMovies:n,movies:n,done:!0}):a&&console.error(a)}},{key:"cinemaButton",value:function(e){var t=this.state.cinemas;t[e].pushed=!t[e].pushed,this.sortMovies(t)}},{key:"sortMovies",value:function(e){var t=this.state.allMovies,n=[];t.forEach(function(t){var a=!1;e.forEach(function(e){if(!e.pushed&&t.showtimes.filter(function(t){return t.cinema.name===e.name}).length>0)return void(a=!0)}),a&&n.push(t)}),window.localStorage.setItem("cinemas",JSON.stringify(e)),this.setState({movies:n,cinemas:e,sortMovies:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.message,a=t.isFetching,r=this.state,s=r.cinemas,c=r.movies;return a?i.a.createElement(q,null):n?i.a.createElement("p",null,n):i.a.createElement("div",null,i.a.createElement("div",{className:"cinemas"},i.a.createElement("h3",null,"B\xed\xf3h\xfas"),s.map(function(t,n){return i.a.createElement(W,{key:n,pushed:t.pushed,onClick:function(){return e.cinemaButton(n)}},t.name)})),i.a.createElement("div",{className:"movies"},c&&c.map(function(e){return i.a.createElement($,{key:e.id,movie:e})})))}}]),t}(a.Component)),Z=Object(F.a)(Object(m.b)(function(e){return{movies:e.movies.movies,isFetching:e.movies.isFetching,message:e.movies.message}})(X)),ee="UPCOMING_MOVIES_REQUEST",te="UPCOMING_MOVIES_ERROR",ne="UPCOMING_MOVIES_SUCCESS";function ae(e){return{type:te,isFetchingUpcoming:!1,upcomingMovies:null,message:e}}var ie=function(){return function(){var e=Object(S.a)(N.a.mark(function e(t){var n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ee,isFetchingUpcoming:!0,upcomingMovies:null}),e.prev=1,e.next=4,P.getUpcomingMovies();case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t(ae(e.t0)));case 10:401===n.status?t(ae(n.result)):(a=n.result,t({type:ne,isFetchingUpcoming:!1,upcomingMovies:a}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},re=(n(65),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={movies:null,upcomingMovies:null,doneMovies:!1,doneUpcoming:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,x();case 3:return n=e.sent,e.next=6,I();case 6:a=e.sent,n?this.setState({movies:n,doneMovies:!0}):t(H()),a?this.setState({upcomingMovies:a,doneUpcoming:!0}):t(ie());case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.isFetchingUpcoming,a=e.movies,i=e.upcomingMovies,r=e.message,s=this.state,c=s.doneMovies,o=s.doneUpcoming;t&&n?console.info("Fetching movies"):a&&i&&!c&&!o?this.setState({movies:a,upcomingMovies:i,doneMovies:!0,doneUpcoming:!0}):a&&!c?this.setState({movies:a,doneMovies:!0}):i&&!o?this.setState({upcomingMovies:i,doneUpcoming:!0}):r&&console.error(r)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.isFetching,a=e.isFetchingUpcoming,r=this.state,s=r.movies,c=r.upcomingMovies;if(t)return i.a.createElement("p",null,t);if(n||a||!s||!c)return i.a.createElement(q,null);var o=this.props.match.params.id,u=s.filter(function(e){return e.id===parseInt(o)}),m=!1;if(0===u.length&&(u=c.filter(function(e){return e.id===parseInt(o)}),m=!0),0===u.length)return i.a.createElement("h2",{className:"movie-notfound"},"Mynd fannst ekki");var l,p,h=u[0],v=h.title,f=h.poster,g=h.ratings,b=h.ids,E=h.plot,y=h.showtimes,O=h.directors_abridged,j=h.trailers,w=null;if(m){var k=new Date(u[0]["release-dateIS"]),M="".concat(k.getDate(),". ").concat(z[k.getMonth()]," ").concat(k.getFullYear());p=i.a.createElement("h2",{className:"movie-page_release-date"},M)}else{var N=g.imdb;l=i.a.createElement("div",{className:"movie-page-rating"},i.a.createElement("p",null,N),i.a.createElement("a",{href:"https://www.imdb.com/title/tt"+b.imdb},i.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"}))),w=i.a.createElement("div",{className:"showtimes"},u&&y.map(function(e){var t=e.cinema,n=t.name,a=t.id,r=e.schedule;return i.a.createElement("section",{key:a,className:"theater-showtimes"},i.a.createElement("h1",null,n),i.a.createElement("div",{className:"schedules"},r.map(function(e,t){return i.a.createElement("a",{key:"".concat(a).concat(t),href:e.purchase_url},i.a.createElement(W,{className:"schedule"},i.a.createElement("p",null,e.time)))})))}))}var S=j[0].results,F="";S.forEach(function(e){return F+=","+e.key});var x=function(e){var t="Leikstj\xf3ri: ".concat(e[0].name);if(e.length>1){t="Leikstj\xf3rar: "+e[0].name;for(var n=1;n<e.length;n++)n===e.length-1?t+=" og ".concat(e[n].name):t+=", ".concat(e[n].name)}return t}(O);return i.a.createElement("div",{className:"movie-page"},i.a.createElement(d.a,{title:v}),i.a.createElement("div",{className:"movie-about"},i.a.createElement("img",{src:f,alt:"mynd fyrir b\xed\xf3myndina "+v}),i.a.createElement("div",{className:"movie-info"},p,i.a.createElement("h1",{className:"movie-title"},v),l,i.a.createElement("p",null,x),i.a.createElement("p",{className:"plot-text"},E))),S.length>0&&i.a.createElement("div",{className:"youtubevideowrap"},i.a.createElement("div",{className:"video-container"},i.a.createElement("iframe",{title:"trailers",width:"640",height:"352",align:"center",src:"https://www.youtube.com/embed/?playlist=".concat(F),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}))),w)}}]),t}(a.Component)),se=Object(F.a)(Object(m.b)(function(e){return{upcomingMovies:e.upcomingMovies.upcomingMovies,isFetchingUpcoming:e.upcomingMovies.isFetchingUpcoming,movies:e.movies.movies,isFetching:e.movies.isFetching,message:e.movies.message}})(re)),ce=(n(67),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={movies:null,done:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,I();case 3:if(!(n=e.sent)){e.next=9;break}a=this.sortMovies(n),this.setState({movies:a,done:!0}),e.next=11;break;case 9:return e.next=11,t(ie());case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.movies,a=e.message,i=this.state.done;if(t||i)t&&console.info("Fetching movies");else if(n){var r=this.sortMovies(n);this.setState({movies:r,done:!0})}else a&&console.error(a)}},{key:"sortMovies",value:function(e){var t=e.map(function(e){var t=new Date(e["release-dateIS"]);return e.date=t,e});return t.sort(function(e,t){return e.date-t.date}),t}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.isFetching,a=this.state.movies;return n?i.a.createElement(q,null):t?i.a.createElement("p",null,t):i.a.createElement("div",{className:"movies"},a&&a.map(function(e){return i.a.createElement($,{key:e.id,movie:e,upcoming:!0})}))}}]),t}(a.Component)),oe=Object(F.a)(Object(m.b)(function(e){return{movies:e.upcomingMovies.upcomingMovies,isFetching:e.upcomingMovies.isFetchingUpcoming}})(ce)),ue=(n(69),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("main",{className:"main"},i.a.createElement(d.a,{defaultTitle:"B\xed\xf3myndir landsins",titleTemplate:"%s"}),i.a.createElement(w,null),i.a.createElement("div",{className:"main__content"},i.a.createElement(b.a,{location:this.props.location},i.a.createElement(E.a,{path:"/",exact:!0,component:Z}),i.a.createElement(E.a,{path:"/movie/:id",component:se}),i.a.createElement(E.a,{path:"/upcoming",component:oe}),i.a.createElement(E.a,{component:k}))),i.a.createElement("footer",{className:"footer"},i.a.createElement("hr",null),i.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," - B\xed\xf3myndir landsins")),i.a.createElement(O.a,{buttonText:"Allt \xed g\xf3\xf0u",buttonStyle:{cursor:"pointer"}},"\xdeessi s\xed\xf0a notar k\xf6kur til a\xf0 b\xe6ta notendaupplifunina."))}}]),t}(a.Component)),me=n(13),le={isFetching:!1,movies:null},pe={isFetchingUpcoming:!1,upcomingMovies:null},he=Object(o.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(me.a)({},e,{isFetching:t.isFetching,movies:t.movies});case K:return Object(me.a)({},e,{isFetching:t.isFetching,movies:t.movies,message:t.message});case L:return Object(me.a)({},e,{isFetching:t.isFetching,movies:t.movies});default:return e}},upcomingMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(me.a)({},e,{isFetchingUpcoming:t.isFetchingUpcoming,upcomingMovies:t.upcomingMovies});case te:return Object(me.a)({},e,{isFetchingUpcoming:t.isFetchingUpcoming,upcomingMovies:t.upcomingMovies,message:t.message});case ne:return Object(me.a)({},e,{isFetchingUpcoming:t.isFetchingUpcoming,upcomingMovies:t.upcomingMovies});default:return e}}}),ve=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(i.a.Component),fe=Object(F.a)(ve);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=Object(o.d)(he,Object(o.a)(u.a));s.a.render(i.a.createElement(m.a,{store:ge},i.a.createElement(c.a,{basename:"/biomyndir"},i.a.createElement(fe,null,i.a.createElement(ue,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.6d6307d4.chunk.js.map