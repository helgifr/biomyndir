(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(67)},39:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),s=n.n(i),c=n(70),o=n(12),l=n(26),u=n(15),m=(n(39),n(2)),p=n(3),h=n(5),v=n(4),d=n(6),f=n(14),b=n.n(f),E=n(71),g=n(69),y=n(29),O=n.n(y),j=n(68),w=(n(48),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav-bar"},r.a.createElement(j.a,{to:"/",style:{textDecoration:"none"}},r.a.createElement("p",{className:"home-button"},"Heim")))}}]),t}(a.Component)),k=(n(50),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement(b.a,{title:"S\xed\xf0a fannst ekki"}),r.a.createElement("h1",null,"S\xed\xf0a fannst ekki"))}}]),t}(a.Component)),N=n(9),S=n.n(N),x=n(11),F=n(72);function M(){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(window.localStorage.getItem("movies")))){e.next=6;break}if(n=t.timestamp,!(new Date-new Date(n)<72e5)){e.next=6;break}return a=t.movies,e.abrupt("return",a);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(e){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(S.a.mark(function e(t){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={movies:t,timestamp:new Date},window.localStorage.setItem("movies",JSON.stringify(n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var I="https://bio-serverinn.herokuapp.com";function _(){return(_=Object(x.a)(S.a.mark(function e(){var t,n,a,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{authorization:"Bearer Kappa"},method:"GET"},n=I,e.next=4,fetch(n,t);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,200===a.status&&B(r),e.abrupt("return",{result:r,status:a.status});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var J={getMovies:function(){return _.apply(this,arguments)}},T="MOVIES_REQUEST",U="MOVIES_ERROR",A="MOVIES_SUCCESS";function R(e){return{type:U,isFetching:!1,movies:null,message:e}}var K=function(){return function(){var e=Object(x.a)(S.a.mark(function e(t){var n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:T,isFetching:!0,movies:null}),e.prev=1,e.next=4,J.getMovies();case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t(R(e.t0)));case 10:401===n.status?t(R(n.result)):(a=n.result,t({type:A,isFetching:!1,movies:a}));case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},L=(n(54),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.onClick,i=e.pushed,s="button ".concat(n);return i&&(s+=" pushed"),r.a.createElement("button",{onClick:a,className:s},t)}}]),t}(a.Component));L.defaultProps={className:"",onClick:function(){}};var V=L,H=(n(56),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.movie,t=e.title,n=e.poster,a=e.ratings,i=e.id;return r.a.createElement("figure",{className:"movieSpace"},r.a.createElement(j.a,{to:"/movie/"+i,style:{textDecoration:"none"}},r.a.createElement("img",{src:n,alt:"Mynd fyrir b\xed\xf3myndina "+t}),r.a.createElement("figcaption",null,t),r.a.createElement("div",{className:"rating"},r.a.createElement("p",null,a.imdb),r.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"}))))}}]),t}(a.Component)),P=(n(58),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bullseye"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dash uno"}),r.a.createElement("div",{className:"dash dos"}),r.a.createElement("div",{className:"dash tres"}),r.a.createElement("div",{className:"dash cuatro"})))}}]),t}(a.Component)),W=(n(60),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={allMovies:null,movies:null,done:!1,cinemas:[{name:"\xc1lfabakki",pushed:!1},{name:"Borgarb\xed\xf3",pushed:!1},{name:"B\xed\xf3 Parad\xeds",pushed:!1},{name:"Samb\xed\xf3in Egilsh\xf6ll",pushed:!1},{name:"H\xe1sk\xf3lab\xed\xf3",pushed:!1},{name:"Kringlub\xed\xf3",pushed:!1},{name:"Laugar\xe1sb\xed\xf3",pushed:!1},{name:"Samb\xed\xf3in, Akureyri",pushed:!1},{name:"Samb\xed\xf3in, Keflav\xedk",pushed:!1},{name:"Sm\xe1rab\xed\xf3",pushed:!1}],sortMovies:!1},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(S.a.mark(function e(){var t,n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,M();case 3:if(!(n=e.sent)){e.next=8;break}this.setState({allMovies:n,movies:n,done:!0}),e.next=10;break;case 8:return e.next=10,t(K());case 10:(a=JSON.parse(window.localStorage.getItem("cinemas")))&&this.setState({cinemas:a,sortMovies:!0});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.isFetching,r=n.movies,i=n.message,s=this.state,c=s.done,o=s.sortMovies,l=s.cinemas;a||c?a?console.info("Fetching movies"):o&&this.sortMovies(l):r?this.setState({allMovies:r,movies:r,done:!0}):i&&console.warn(i)}},{key:"cinemaButton",value:function(e){var t=this.state.cinemas;t[e].pushed=!t[e].pushed,this.sortMovies(t)}},{key:"sortMovies",value:function(e){var t=this.state.allMovies,n=[];t.forEach(function(t){var a=!1;e.forEach(function(e){if(!e.pushed&&t.showtimes.filter(function(t){return t.cinema.name===e.name}).length>0)return void(a=!0)}),a&&n.push(t)}),window.localStorage.setItem("cinemas",JSON.stringify(e)),this.setState({movies:n,cinemas:e,sortMovies:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.message,a=t.isFetching,i=this.state,s=i.cinemas,c=i.movies;return a?r.a.createElement(P,null):n?r.a.createElement("p",null,n):r.a.createElement("div",null,r.a.createElement("div",{className:"cinemas"},r.a.createElement("h3",null,"B\xed\xf3h\xfas"),s.map(function(t,n){return r.a.createElement(V,{key:n,pushed:t.pushed,onClick:function(){return e.cinemaButton(n)}},t.name)})),r.a.createElement("div",{className:"movies"},c&&c.map(function(e){return r.a.createElement(H,{key:e.id,movie:e})})))}}]),t}(a.Component)),z=Object(F.a)(Object(u.b)(function(e){return{movies:e.movies.movies,isFetching:e.movies.isFetching}})(W)),G=(n(63),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={movies:null,done:!1},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:if(!(t=e.sent)){e.next=7;break}this.setState({movies:t,done:!0}),e.next=10;break;case 7:return n=this.props.dispatch,e.next=10,n(K());case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFetching,n=e.movies,a=e.message,r=this.state.done;t||r?t&&console.info("Fetching movies"):n?this.setState({movies:n,done:!0}):console.warn(a)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.isFetching,a=this.state.movies;if(t)return r.a.createElement("p",null,t);if(n||!a)return r.a.createElement(P,null);var i=this.props.match.params.id,s=a.filter(function(e){return e.id===parseInt(i)}),c=s[0],o=c.title,l=c.poster,u=c.ratings,m=c.ids,p=c.plot,h=c.showtimes,v=c.directors_abridged,d=c.trailers,f=u.imdb,E=d[0].results,g="";E.forEach(function(e){return g+=","+e.key});var y="Leikstj\xf3ri: ".concat(v[0].name);if(v.length>1){y="Leikstj\xf3rar: "+v[0].name;for(var O=1;O<v.length;O++)O===v.length-1?y+=" og ".concat(v[O].name):y+=", ".concat(v[O].name)}return r.a.createElement("div",{className:"movie-page"},r.a.createElement(b.a,{title:o}),r.a.createElement("div",{className:"movie-about"},r.a.createElement("img",{src:l,alt:"mynd fyrir b\xed\xf3myndina "+o}),r.a.createElement("div",{className:"movie-info"},r.a.createElement("h1",{className:"movie-title"},o),r.a.createElement("div",{className:"movie-page-rating"},r.a.createElement("p",null,f),r.a.createElement("a",{href:"https://www.imdb.com/title/tt"+m.imdb},r.a.createElement("img",{className:"logo",src:"".concat("/biomyndir","/imdb.png"),alt:"imdb logo"}))),r.a.createElement("p",null,y),r.a.createElement("p",{className:"plot-text"},p))),E.length>0&&r.a.createElement("div",{className:"youtubevideowrap"},r.a.createElement("div",{className:"video-container"},r.a.createElement("iframe",{title:"trailers",width:"640",height:"352",align:"center",src:"https://www.youtube.com/embed/?playlist=".concat(g),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}))),r.a.createElement("div",{className:"showtimes"},s&&h.map(function(e){var t=e.cinema,n=t.name,a=t.id,i=e.schedule;return r.a.createElement("section",{key:a,className:"theater-showtimes"},r.a.createElement("h1",null,n),r.a.createElement("div",{className:"schedules"},i.map(function(e,t){return r.a.createElement("a",{key:"".concat(a).concat(t),href:e.purchase_url},r.a.createElement(V,{className:"schedule"},r.a.createElement("p",null,e.time)))})))})))}}]),t}(a.Component)),Q=Object(F.a)(Object(u.b)(function(e){return{movies:e.movies.movies,isFetching:e.movies.isFetching}})(G)),Y=(n(65),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"main"},r.a.createElement(b.a,{defaultTitle:"B\xed\xf3myndir landsins",titleTemplate:"%s"}),r.a.createElement(w,null),r.a.createElement("div",{className:"main__content"},r.a.createElement(E.a,{location:this.props.location},r.a.createElement(g.a,{path:"/",exact:!0,component:z}),r.a.createElement(g.a,{path:"/movie/:id",component:Q}),r.a.createElement(g.a,{component:k}))),r.a.createElement("footer",{className:"footer"},r.a.createElement("hr",null),r.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," - B\xed\xf3myndir landsins")),r.a.createElement(O.a,{buttonText:"Allt \xed g\xf3\xf0u",buttonStyle:{cursor:"pointer"}},"\xdeessi s\xed\xf0a notar k\xf6kur til a\xf0 b\xe6ta notendaupplifunina."))}}]),t}(a.Component)),$=n(20),q={isFetching:!1,movies:null},X=Object(o.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object($.a)({},e,{isFetching:t.isFetching,movies:t.movies});case U:return Object($.a)({},e,{isFetching:t.isFetching,movies:t.movies,message:t.message});case A:return Object($.a)({},e,{isFetching:t.isFetching,movies:t.movies});default:return e}}}),Z=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(r.a.Component),ee=Object(F.a)(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=Object(o.d)(X,Object(o.a)(l.a));s.a.render(r.a.createElement(u.a,{store:te},r.a.createElement(c.a,{basename:"/biomyndir"},r.a.createElement(ee,null,r.a.createElement(Y,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.b8ec3ee0.chunk.js.map